\section{Introduction}
\label{Sec:Introduction}

Web applications are growing fast in popularity. \javascript is heavily used on the client side to provide user interactivity on the websites. However, web application development is challenging for most programmers. One of the major challenge when writing \javascript code is handling the interactions between \javascript and Document Object Model (DOM)\footnote{DOM is a standard object model representing HTML at runtime. It is used for dynamically accessing, traversing, and updating the content, structure, and style of HTML documents} state of the web application.\cite{ocariza2013empirical} 


\javascript code within web applications is error prone due to the dynamic nature of DOM. This dynamic nature of DOM can be either due to the HTML generated by the server side code or \javascript-DOM interactions on the client side. DOM state of the web application can be completely different for different users. Therefore when writing the \javascript code, the developer needs to consider all possible use cases (both client as well as server side) that can generate different DOM states. However covering all these states and then analyzing each of them manually is time consuming as well as a possible source of confusion among developers. 


Several tools are available that provide assistance to the developers in analyzing the DOM structure of the web application. In-browser tools such as \emph{Firebug}\footnote{\url{https://getfirebug.com/}}, \emph{Chrome DevTools}\footnote{\url{https://developers.google.com/chrome-developer-tools/}} have been extensively used among developers for analyzing the DOM structure. However, these tools require the developer to manually open the web application, select the required DOM elements and analyze them manually. Therefore, these processes are time consuming, not user friendly and possible sources of confusion.

Prior work \cite{murphy2006java} has shown that developers make heavy use of code-completion features present within the editor. A survey conducted in \cite{omar2012active} revealed the developers desire to have code completion tool for queries such as XPATH or XML. Although code-completion in general has been an active research topic \cite{robbes2008program, lee2008towards, han2009code, bruch2009learning, brandt2010example, mooty2010calcite, hou2011evaluation}, code-completion for \javascript specific applications has received very little attention from the research community. To the best of our knowledge DOM based autocomplete features for \javascript has not been addressed in the literature yet.


To assist the web developers in writing \javascript code that can interact fault free with the DOM, we propose an automated technique based on the static and dynamic analysis of the web application and the \javascript code under development. Our technique is presented in the form of code-completion suggestions in a tool called \dompletion. \dompletion first crawls different DOM states generated by the server side code therefore accounting majority of the server side events leading to a different DOM states and then captures all the interactions between the \javascript code(written within the editor) and the DOM and then analyze the consequences (such as possible \texttt{null} pointer errors) of these interactions. The results of these interactions are then analyzed to generate valid DOM states possible after the execution of \javascript code. Final results are presented to the developer in terms of code-completion suggestions. We have empirically evaluated \dompletion by conducting a survey using an under development web application. 


The main contributions of the paper include: \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\