\section{Discussion}
\label{Sec:Discussion}
Here, we discuss some issues relating to the limitations of \dompletion and some threats to the validity of our evaluation.

	\subsection{Limitations}
	\label{Sec:Limitations}
	
	\headbf{Single \javascript code file}
	Currently, \dompletion supports code-completion based on the code available within single \javascript file. Due to this limitation the developer needs to use partially complete \javascript code (\secref{Model}). However, this limitation can be removed by enabling the tool to support multiple files for editing. We plan to provide this functionality as a part of next version.
	
	\headbf{Library Support}
	\javascript libraries are usually separate \javascript files included in the \html of the web page. Variables, functions or objects declared in the library file can be accessed in the subsequent \javascript code. Due to support for single \javascript files, \dompletion does not support code completion for \javascript libraries such as jQuery. One solution for this limitation would be to provide support for multiple \javascript files and developer can include as many libraries as they want. However, we also plan to provide built-in support for major \javascript libraries by intercepting calls to the functions defined by these libraries.
	
	\headbf{Limited support for DOM API}
	Currently, \dompletion supports limited DOM API functions (\tabref{API}). Functions such as \texttt{getElementsByName} and other DOM based functions can also be supported with minor changes in the system. Providing support for these functions is not fundamentally different.  As of now, we discard a lot of information about DOM in the DOM analysis phase. By incorporating that information, we plan to extend our tool to support as many DOM API functions as possible.
	
	\headbf{Asynchronous functions}
	To provide better user experience, \javascript supports asynchronous function calls. Asynchronous functions can be called within \javascript code as well as based on user interactions with the DOM. Timed events such as \texttt{setTimeout} and \texttt{setInterval} are also used to call \javascript functions in a non-sequential order. For the code-completion purpose, we do not support asynchronous functions. However, we plan to work on this in the future work.
	
			
	\headbf{Scalability}
	Currently, in the code-analysis phase when generating different versions of code, \dompletion analyzes all the possible path combinations including the infeasible paths too. This does not affect the accuracy of the tool, as user is presented with detailed report to make a decision while using the code-completion feature. However, including the infeasible paths for analysis simply increases the overhead by executing the unnecessary paths, therefore increasing the timing overhead of the overall system. In future work we plan to analyze infeasible paths and prohibit their execution.
	
	
	
	
	\subsection{Threats to Validity}
	\label{Sec:Threats}
	
	We did not use application specific crawling, that can easily expose more number of DOM states that cannot be seen using random crawling. Adding application specific crawling would increase the number of \css patterns therefore might affect the evaluation result. However, we believe that adding those states would add more \css patterns and these \css patterns would also tend to localize quickly.